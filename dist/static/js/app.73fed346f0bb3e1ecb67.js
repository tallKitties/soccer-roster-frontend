webpackJsonp([1],{"1/oy":function(e,t){},"9M+g":function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},KwuY:function(e,t){},N5Ok:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),n=a("mtWM"),s=a.n(n),i=a("Rf8U"),l=a.n(i),o=a("myK/"),u=a.n(o),c=a("e6fC"),p=a("sUu7"),d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"container"},[t("router-view")],1)])},staticRenderFns:[]};var f=a("VU/8")({name:"App"},d,!1,function(e){a("gegA")},null,null).exports,m=(a("kVq8"),a("Jmt5"),a("9M+g"),a("/ocq")),h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("nav",{staticClass:"navbar navbar-expand-md navbar-light fixed-top bg-light",attrs:{id:"header-nav"}},[t("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[this._v("Players")]),this._v(" "),this._m(0),this._v(" "),t("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[t("ul",{staticClass:"navbar-nav mr-auto"},[t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:{name:"players-new"}}},[this._v("\n              Add Player"),t("span",{staticClass:"sr-only"},[this._v("(current)")])])],1)])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])}]};var v=a("VU/8")({name:"header-nav"},h,!1,function(e){a("KwuY")},null,null).exports,y={components:{headerNav:v},name:"players-list",data:function(){return{fields:[{key:"full_name",label:"Name"},"age","position",{key:"delete",label:""}],players:[]}},methods:{fetchPlayers:function(){var e=this;this.axios.get(this.path).then(function(t){e.players=t.data}).catch(function(e){alert("Something went wrong!\n"+e)})},destroyPlayer:function(e,t){var a=this;this.axios.delete("/players/"+e).then(function(e){!0===e.data.success&&a.removePlayerFromPage(t)}).catch(function(e){alert("Error deleting player\n"+e)})},removePlayerFromPage:function(e){this.players.splice(e,1)}},created:function(){this.fetchPlayers()}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"players-list"}},[a("header-nav"),e._v(" "),e._m(0),e._v(" "),a("b-container",[a("b-row",[a("b-col",{attrs:{sm:"8","offset-sm":"2"}},[a("b-table",{attrs:{hover:"",items:e.players,fields:e.fields},scopedSlots:e._u([{key:"full_name",fn:function(t){return[a("b-link",{attrs:{to:{name:"players-edit",params:{id:t.item.id}}}},[e._v("\n              "+e._s(t.item.full_name)+"\n            ")])]}},{key:"delete",fn:function(t){return[a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){e.destroyPlayer(t.item.id,t.index)}}},[e._v("\n              ×\n            ")])]}}])})],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container clearfix"},[t("h1",{staticClass:"pb-2 pt-4 text-center"},[this._v("\n      Checkout our team!\n    ")])])}]};var g=a("VU/8")(y,b,!1,function(e){a("azpz")},"data-v-193113e2",null).exports,_=a("fZjL"),C=a.n(_),w={name:"form-input-field",data:function(){return{rules:this.getValidRules()}},inject:["$validator"],props:{groupId:{type:String,default:null},inputId:{type:String,default:null},modelName:{type:String,default:null},placeholder:{type:String,default:null},value:{required:!0},label:{type:String,required:!0},inputType:{type:String,default:"text"},validations:{type:Object,default:null}},methods:{getValidRules:function(){var e=this.validations||{};return e.required=!0,"number"===this.inputType?e.numeric=!0:"email"===this.inputType&&(e.email=!0),e}},computed:{hasError:function(){return this.errors.has(this.getModelName)},isInvalid:function(){if(this.hasError)return"is-invalid"},labelLC:function(){return this.label.toLowerCase()},getPlaceholder:function(){return this.placeholder||this.labelLC},getLowerCaseId:function(){return this.labelLC.replace(/\s+/g,"-")},getGroupId:function(){return this.groupId||this.getLowerCaseId+"-group"},getInputId:function(){return this.inputId||this.getLowerCaseId+"-input"},getModelName:function(){return this.modelName||this.labelLC.replace(/\s+/g,"_")}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form-group",{attrs:{id:e.getGroupId}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:e.rules,expression:"rules"}],class:e.isInvalid,attrs:{id:e.getInputId,type:e.inputType,placeholder:e.getPlaceholder,"aria-label":e.label,name:e.getModelName,"data-vv-as":e.label,value:e.value},nativeOn:{input:function(t){e.$emit("input",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"text-danger"},[e._v("\n\n      "+e._s(e.errors.first(this.getModelName))+"\n  ")])],1)},staticRenderFns:[]};var I=a("VU/8")(w,x,!1,function(e){a("N5Ok")},"data-v-7e9812c6",null).exports,E={name:"form-select-field",data:function(){return{rules:this.getValidRules()}},inject:["$validator"],props:{groupId:{type:String,default:null},inputId:{type:String,default:null},modelName:{type:String,default:null},placeholder:{type:String,default:null},value:{required:!0},options:{type:Array,required:!0},label:{type:String,required:!0},validations:{type:Object,default:null}},methods:{getValidRules:function(){var e=this.validations||{};return e.required=!0,e}},computed:{hasError:function(){return this.errors.has(this.getModelName)},isInvalid:function(){if(this.hasError)return"is-invalid"},labelLC:function(){return this.label.toLowerCase()},getPlaceholder:function(){return this.placeholder||this.labelLC},getLowerCaseId:function(){return this.labelLC.replace(/\s+/g,"-")},getGroupId:function(){return this.groupId||this.getLowerCaseId+"-group"},getInputId:function(){return this.inputId||this.getLowerCaseId+"-input"},getModelName:function(){return this.modelName||this.labelLC.replace(/\s+/g,"_")}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form-group",{attrs:{id:e.getGroupId}},[a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:e.rules,expression:"rules"}],attrs:{id:e.getInputId,options:e.options,placeholder:e.getPlaceholder,"aria-label":e.label,name:e.getModelName,"data-vv-as":e.label,clas:e.isInvalid,value:e.value},nativeOn:{input:function(t){e.$emit("input",t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"text-danger"},[e._v("\n\n      "+e._s(e.errors.first(this.getModelName))+"\n  ")])],1)},staticRenderFns:[]};var P=a("VU/8")(E,$,!1,function(e){a("RHRm")},"data-v-489042bc",null).exports,k={name:"edit-player-form",components:{inputField:I,inputSelect:P},props:["player"],data:function(){return{positions:[]}},methods:{updatePlayer:function(e){var t=this;this.axios.patch("/players/"+this.player.id,{player:this.playerInfo}).then(function(e){t.playerInfo=e.data,t.$emit("success",t.playerInfo.first_name+" was updated.")}).catch(function(e){console.log(e),t.$emit("apiError","Error updating player")})},getPostions:function(){var e=this;this.axios.get("/players/positions").then(function(t){e.positions=e.buildPositionsCollection(t.data.positions)}).catch(function(t){console.log(t),e.$emit("apiError","Error getting positions")})},buildPositionsCollection:function(e){var t=this,a=[{text:"position",value:null,disabled:!0}];return e.forEach(function(e){var r=t.$options.filters.capitalize(e);a.push({text:r,value:e})}),a}},computed:{invalidSubmit:function(){var e=this;return!C()(this.fields).every(function(t){return e.fields[t].valid})},playerInfo:function(){return this.player}},created:function(){this.getPostions()}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{id:"edit-player-form"}},[a("b-form-row",[a("b-col",[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.updatePlayer(t)}}},[a("input-field",{attrs:{label:"First Name"},model:{value:e.playerInfo.first_name,callback:function(t){e.$set(e.playerInfo,"first_name",t)},expression:"playerInfo.first_name"}}),e._v(" "),a("input-field",{attrs:{label:"Last name"},model:{value:e.playerInfo.last_name,callback:function(t){e.$set(e.playerInfo,"last_name",t)},expression:"playerInfo.last_name"}}),e._v(" "),a("input-field",{attrs:{label:"Email",inputType:"email"},model:{value:e.playerInfo.email,callback:function(t){e.$set(e.playerInfo,"email",t)},expression:"playerInfo.email"}}),e._v(" "),a("input-field",{attrs:{label:"Age",inputType:"number",validations:{between:[1,100]}},model:{value:e.playerInfo.age,callback:function(t){e.$set(e.playerInfo,"age",t)},expression:"playerInfo.age"}}),e._v(" "),a("input-select",{attrs:{label:"Position",options:e.positions},model:{value:e.playerInfo.position,callback:function(t){e.$set(e.playerInfo,"position",t)},expression:"playerInfo.position"}}),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.invalidSubmit}},[e._v("Update")])],1)],1)],1)],1)},staticRenderFns:[]};var N=a("VU/8")(k,S,!1,function(e){a("WQ+k")},"data-v-b9e60886",null).exports,R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container",attrs:{id:"utils-alert-error"}},[t("div",{staticClass:"alert alert-warning alert-dismissible fade show",attrs:{role:"alert"}},[this._v("\n    "+this._s(this.message)+"\n\n    "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:this.alertClosed}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])])},staticRenderFns:[]};var L=a("VU/8")({name:"utils-alert-error",props:["message"],methods:{alertClosed:function(){this.$emit("alertClosed","")}}},R,!1,function(e){a("kZzB")},"data-v-77bc67dd",null).exports,F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container",attrs:{id:"utils-alert-success"}},[t("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[this._v("\n    "+this._s(this.message)+"\n\n    "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:this.alertClosed}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])])},staticRenderFns:[]};var V={components:{headerNav:v,editPlayerForm:N,alertError:L,alertSuccess:a("VU/8")({name:"utils-alert-success",props:["message"],methods:{alertClosed:function(){this.$emit("alertClosed","")}}},F,!1,function(e){a("RC2t")},"data-v-64065445",null).exports},props:["id"],name:"players-show",data:function(){return{player:{},error:"",success:""}},methods:{fetchPlayer:function(){var e=this;this.axios.get("/players/"+this.id).then(function(t){e.player=t.data}).catch(function(e){alert("Something went wrong!\n\n"+e.response.data.error)})},destroyPlayer:function(){var e=this;this.axios.delete("/players/"+this.id).then(function(t){e.$router.replace({name:"players-list"})}).catch(function(e){alert("Error deleting player!\n"+e)})},showError:function(e){this.error=e},resetError:function(){this.error=""},showSuccess:function(e){this.success=e},resetSuccess:function(){this.success=""}},created:function(){this.fetchPlayer()}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"players-show"}},[a("header-nav"),e._v(" "),e.error?a("alert-error",{staticClass:"col-12",attrs:{message:e.error},on:{alertClosed:e.resetError}}):e._e(),e._v(" "),e.success?a("alert-success",{staticClass:"col-12",attrs:{message:e.success},on:{alertClosed:e.resetSuccess}}):e._e(),e._v(" "),a("div",{staticClass:"container clearfix"},[a("h1",{staticClass:"pb-2 pt-4 border-bottom text-center"},[e._v("\n      "+e._s(e.player.full_name)+"\n      "),a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:e.destroyPlayer}},[e._v("\n        Delete "+e._s(e.player.first_name)+"\n      ")])],1)]),e._v(" "),a("div",{staticClass:"mb-5"}),e._v(" "),a("b-row",[a("b-col",{attrs:{sm:"10","offset-sm":"1",md:"8","offset-md":"2"}},[a("edit-player-form",{attrs:{player:e.player},on:{apiError:e.showError,success:e.showSuccess}})],1)],1)],1)},staticRenderFns:[]};var A=a("VU/8")(V,U,!1,function(e){a("qonn")},"data-v-da914068",null).exports,q={name:"new-player-form",data:function(){return{player:{position:null,first_name:"",last_name:"",email:"",age:null},positions:[]}},components:{inputField:I,inputSelect:P},methods:{createPlayer:function(e){var t=this;this.axios.post("/players",{player:this.player}).then(function(e){t.goToPlayerEdit(e)}).catch(function(e){console.log(e),t.$emit("apiError","Error creating player")})},getPostions:function(){var e=this;this.axios.get("/players/positions").then(function(t){e.positions=e.buildPositionsCollection(t.data.positions)}).catch(function(t){console.log(t),e.$emit("apiError","Error getting positions")})},buildPositionsCollection:function(e){var t=this,a=[{text:"position",value:null,disabled:!0}];return e.forEach(function(e){var r=t.$options.filters.capitalize(e);a.push({text:r,value:e})}),a},goToPlayerEdit:function(e){this.$router.push({name:"players-edit",params:{id:e.data.id}})}},computed:{invalidSubmit:function(){var e=this;return!C()(this.fields).every(function(t){return e.fields[t].valid})}},created:function(){this.getPostions()}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{id:"new-player-form"}},[a("b-form-row",[a("b-col",[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.createPlayer(t)}}},[a("input-field",{attrs:{label:"First Name"},model:{value:e.player.first_name,callback:function(t){e.$set(e.player,"first_name",t)},expression:"player.first_name"}}),e._v(" "),a("input-field",{attrs:{label:"Last name"},model:{value:e.player.last_name,callback:function(t){e.$set(e.player,"last_name",t)},expression:"player.last_name"}}),e._v(" "),a("input-field",{attrs:{label:"Email",inputType:"email"},model:{value:e.player.email,callback:function(t){e.$set(e.player,"email",t)},expression:"player.email"}}),e._v(" "),a("input-field",{attrs:{label:"Age",inputType:"number",validations:{between:[1,100]}},model:{value:e.player.age,callback:function(t){e.$set(e.player,"age",t)},expression:"player.age"}}),e._v(" "),a("input-select",{attrs:{label:"Position",options:e.positions},model:{value:e.player.position,callback:function(t){e.$set(e.player,"position",t)},expression:"player.position"}}),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.invalidSubmit}},[e._v("Submit")])],1)],1)],1)],1)},staticRenderFns:[]};var T={components:{alertError:L,headerNav:v,newPlayerForm:a("VU/8")(q,M,!1,function(e){a("yBZr")},"data-v-201f70b1",null).exports},name:"players-new",data:function(){return{player:{},error:""}},methods:{showError:function(e){this.error=e},resetAlert:function(){this.error=""}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"players-new"}},[a("header-nav"),e._v(" "),e.error?a("alert-error",{staticClass:"col-12",attrs:{message:e.error},on:{alertClosed:e.resetAlert}}):e._e(),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"mb-5"}),e._v(" "),a("b-row",[a("b-col",{attrs:{sm:"10","offset-sm":"1",md:"8","offset-md":"2"}},[a("new-player-form",{on:{apiError:e.showError}})],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container clearfix"},[t("h1",{staticClass:"pb-2 pt-4 border-bottom text-center"},[this._v("\n      Add to the roster\n    ")])])}]};var j=a("VU/8")(T,z,!1,function(e){a("Yp/L")},"data-v-17265f61",null).exports;r.a.use(m.a);var O=new m.a({mode:"history",routes:[{path:"/",name:"players-list",component:g,alias:"/players",props:!0},{path:"/players/:id",name:"players-edit",component:A,props:!0},{path:"/players/new",name:"players-new",component:j}]});r.a.use(c.a),r.a.use(p.a),r.a.use(u.a),r.a.use(l.a,s.a),s.a.defaults.baseURL="https://soccer-roster-api.herokuapp.com/api/v1",r.a.config.productionTip=!1,r.a.filter("capitalize",function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""}),new r.a({el:"#app",router:O,components:{App:f},template:"<App/>"})},RC2t:function(e,t){},RHRm:function(e,t){},"WQ+k":function(e,t){},"Yp/L":function(e,t){},azpz:function(e,t){},gegA:function(e,t){},kVq8:function(e,t){},kZzB:function(e,t){},qonn:function(e,t){},yBZr:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.73fed346f0bb3e1ecb67.js.map